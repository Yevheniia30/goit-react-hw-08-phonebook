"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[492],{8400:function(e,n,t){t.d(n,{t:function(){return _},Py:function(){return j},H4:function(){return f}});var a=t(4942),s=t(1413),r=t(8152),c=t(2791),l="Form_form__e1yzW",o="Form_label__8nx+5",i="Form_input__FTtTw",u="Form_btn__0ebGo",m="Form_link__fzlRv",d=t(6249),h=t(3504),p=t(184),f=function(e){var n=e.onSubmit,t=e.isSignup,f=t?{name:"",email:"",password:""}:{email:"",password:""},x=(0,c.useState)((0,s.Z)({},f)),b=(0,r.Z)(x,2),_=b[0],v=b[1],j=_.name,N=_.email,g=_.password,C=function(e){var n=e.target,t=n.name,r=n.value;v((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,a.Z)({},t,r))}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("form",{className:l,onSubmit:function(e){e.preventDefault(),n(_),v((0,s.Z)({},f))},children:[t&&(0,p.jsxs)("label",{className:o,children:["Name",(0,p.jsx)("input",{className:i,value:j,onChange:C,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"})]}),(0,p.jsxs)("label",{className:o,children:["Email",(0,p.jsx)("input",{className:i,value:N,onChange:C,type:"email",name:"email"})]}),(0,p.jsxs)("label",{className:o,children:["Password",(0,p.jsx)("input",{className:i,value:g,onChange:C,type:"password",name:"password"})]}),(0,p.jsx)("button",{className:i+" "+u,type:"submit",children:t?"Sign up":"Log In"})]}),(0,p.jsx)(h.rU,{to:t?d._.login:d._.signup,className:m,children:t?"Already have an account? Log in":"Do not have an account yet? Sign up"})]})},x=t(9434),b=t(24),_=function(){var e=(0,c.useState)(""),n=(0,r.Z)(e,2),t=n[0],a=n[1],s=(0,c.useState)(""),m=(0,r.Z)(s,2),d=m[0],h=m[1],f=(0,x.I0)(),_=(0,x.v9)((function(e){return e.contacts.contacts})),v=function(e){var n=e.currentTarget,t=n.name,s=n.value;switch(t){case"name":a(s);break;case"phone":h(s);break;default:return}},j=function(){a(""),h("")};return(0,p.jsxs)("form",{className:l,onSubmit:function(e){e.preventDefault();var n=_.find((function(e){return e.name.toLowerCase()===t.toLowerCase()})),a=_.find((function(e){return e.number===d})),s={name:t,number:d};n?alert("".concat(t," is already in contacts with phone ").concat(n.number)):a?alert("".concat(d," is already in contacts as ").concat(a.name)):t&&d?f(b.m.addContact(s)):alert("\u0421omplete all fields"),j()},children:[(0,p.jsxs)("label",{className:o,children:["Name",(0,p.jsx)("input",{className:i,value:t,onChange:v,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"})]}),(0,p.jsxs)("label",{className:o,children:["phone",(0,p.jsx)("input",{className:i,value:d,onChange:v,type:"tel",name:"phone",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"})]}),(0,p.jsx)("button",{className:i+" "+u,type:"submit",children:"Add contact"})]})},v=t(6052),j=function(e){var n=e.contactToEdit,t=e.closeModal,a=(0,c.useState)(n),m=(0,r.Z)(a,2),d=m[0],h=m[1],f=d.name,b=d.number,_=(0,x.I0)(),j=(0,c.useState)(""),N=(0,r.Z)(j,2),g=N[0],C=N[1],y=function(e){var n=e.currentTarget,t=n.name,a=n.value;switch(t){case"name":h((function(e){return(0,s.Z)((0,s.Z)({},e),{},{name:a})}));break;case"number":h((function(e){return(0,s.Z)((0,s.Z)({},e),{},{number:a})}));break;default:return}};return(0,p.jsxs)("form",{className:l,onSubmit:function(e){e.preventDefault(),f&&b?(C(""),_((0,v.editContact)(d)),t()):C("\u0421omplete all fields")},children:[(0,p.jsxs)("label",{className:o,children:["Name",(0,p.jsx)("input",{className:i,value:f,onChange:y,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"})]}),(0,p.jsxs)("label",{className:o,children:["phone",(0,p.jsx)("input",{className:i,value:b,onChange:y,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"})]}),g&&(0,p.jsx)("p",{style:{color:"red"},children:g}),(0,p.jsx)("button",{className:i+" "+u,type:"submit",children:"Confirm changes"})]})}},5492:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var a=t(8152),s=t(2791),r=t(8400),c=t(9434),l=t(3924),o={list:"ContactList_list__csErn",name:"ContactList_name__UCkFW",item:"ContactList_item__EZYHO",btn:"ContactList_btn__6Piat",edit:"ContactList_edit__jpzPE",del:"ContactList_del__WHOxA"},i=t(24),u=t(6052),m=t(6355),d=t(184),h=function(e){var n=e.item,t=e.openModal,a=(0,c.I0)();return(0,d.jsxs)("li",{className:o.item,children:[(0,d.jsx)("b",{className:o.name,children:n.name}),(0,d.jsx)("span",{children:n.number}),(0,d.jsxs)("div",{className:o.btns,children:[(0,d.jsx)("button",{className:o.btn,onClick:function(){return t(n)},title:"Edit contact",children:(0,d.jsx)(m.fmQ,{fill:"#757474",className:o.edit})}),(0,d.jsx)("button",{className:o.btn,onClick:function(){return a((0,u.deleteContact)(n.id))},title:"Delete contact",children:(0,d.jsx)(m.Xm5,{fill:"#757474",className:o.del})})]})]})},p=function(e){var n=e.openModal,t=(0,c.I0)(),a=(0,c.v9)((function(e){return e.contacts.contacts})),r=(0,c.v9)((function(e){return e.contacts.filter})),u=(0,c.v9)((function(e){return e.contacts.loading})),m=(0,c.v9)((function(e){return e.contacts.error}));(0,s.useEffect)((function(){t(i.m.getContact())}),[t]);var p=function(){if(r){var e=r.toLowerCase();return a.filter((function(n){return n.name.toLowerCase().includes(e)}))}return a}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("ul",{className:o.list,children:null===p||void 0===p?void 0:p.map((function(e){return(0,d.jsx)(h,{item:e,openModal:n},e.id)}))}),u&&(0,d.jsx)(l.g4,{color:"#00BFFF",height:80,width:80}),m&&(0,d.jsx)("p",{style:{color:"red"},children:"Oops, something went wrong, try again"})]})},f="Filter_filter__vxThR",x=t(1538),b=function(){var e=(0,c.I0)(),n=(0,c.v9)((function(e){return e.contacts.filter}));return(0,d.jsxs)("label",{children:["Search contact by name",(0,d.jsx)("input",{type:"text",className:f,placeholder:"Search contact...",value:n,onChange:function(n){var t=n.currentTarget.value;e((0,x.W)(t))}})]})},_=t(4164),v="Modal_Overlay__yoxbg",j="Modal_Modal__I1UYJ",N="Modal_btn__ghtlt",g="Modal_icon__2UpwH",C=t(6053),y=function(e){var n=e.children,t=e.closeModal,a=document.getElementById("modal-root");return(0,_.createPortal)((0,d.jsx)("div",{className:v,children:(0,d.jsxs)("div",{className:j,children:[(0,d.jsx)("button",{className:N,onClick:t,children:(0,d.jsx)(C.nfZ,{className:g})}),n]})}),a)},Z=function(){var e=(0,s.useState)(!1),n=(0,a.Z)(e,2),t=n[0],c=n[1],l=(0,s.useState)({}),o=(0,a.Z)(l,2),i=o[0],u=o[1],m=function(){c(!1),u({})};return(0,d.jsxs)("div",{children:[(0,d.jsx)(r.t,{}),(0,d.jsx)(b,{}),(0,d.jsx)(p,{openModal:function(e){c(!0),u(e)}}),t&&(0,d.jsx)(y,{closeModal:m,children:(0,d.jsx)(r.Py,{contactToEdit:i,closeModal:m})})]})}},24:function(e,n,t){t.d(n,{m:function(){return a}});var a=t(6052)}}]);
//# sourceMappingURL=492.85e22cba.chunk.js.map