"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[492],{8400:function(e,t,n){n.d(t,{t:function(){return j},Py:function(){return N},H4:function(){return x}});var a=n(4942),s=n(1413),r=n(8152),o=n(2791),c="Form_form__e1yzW",l="Form_label__8nx+5",i="Form_input__FTtTw",u="Form_btn__0ebGo",d="Form_link__fzlRv",m=n(6249),p=n(3504),h=n(6355),f=n(184),x=function(e){var t=e.onSubmit,n=e.isSignup,x=n?{name:"",email:"",password:""}:{email:"",password:""},b=(0,o.useState)((0,s.Z)({},x)),_=(0,r.Z)(b,2),j=_[0],v=_[1],N=j.name,g=j.email,C=j.password,y=function(e){var t=e.target,n=t.name,r=t.value;v((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,a.Z)({},n,r))}))},Z=(0,o.useState)("password"),w=(0,r.Z)(Z,2),A=w[0],S=w[1],k=function(e){S("password"===A?"text":"password")};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("form",{className:c,onSubmit:function(e){e.preventDefault(),t(j),v((0,s.Z)({},x))},children:[n&&(0,f.jsxs)("label",{className:l,children:["Name",(0,f.jsx)("input",{className:i,value:N,onChange:y,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"})]}),(0,f.jsxs)("label",{className:l,children:["Email",(0,f.jsx)("input",{className:i,value:g,onChange:y,type:"email",name:"email"})]}),(0,f.jsxs)("label",{className:l,style:{position:"relative"},children:["Password",(0,f.jsx)("input",{className:i,value:C,onChange:y,type:A,name:"password"}),"password"===A?(0,f.jsx)(h.dSq,{onClick:k,style:{position:"absolute",top:"35px",left:"185px"}}):(0,f.jsx)(h.tgn,{onClick:k,style:{position:"absolute",top:"35px",left:"185px"}})]}),(0,f.jsx)("button",{className:i+" "+u,type:"submit",children:n?"Sign up":"Log In"})]}),(0,f.jsx)(p.rU,{to:n?m._.login:m._.signup,className:d,children:n?"Already have an account? Log in":"Do not have an account yet? Sign up"})]})},b=n(9434),_=n(24),j=function(){var e=(0,o.useState)(""),t=(0,r.Z)(e,2),n=t[0],a=t[1],s=(0,o.useState)(""),d=(0,r.Z)(s,2),m=d[0],p=d[1],h=(0,b.I0)(),x=(0,b.v9)((function(e){return e.contacts.contacts})),j=function(e){var t=e.currentTarget,n=t.name,s=t.value;switch(n){case"name":a(s);break;case"phone":p(s);break;default:return}},v=function(){a(""),p("")};return(0,f.jsxs)("form",{className:c,onSubmit:function(e){e.preventDefault();var t=x.find((function(e){return e.name.toLowerCase()===n.toLowerCase()})),a=x.find((function(e){return e.number===m})),s={name:n,number:m};t?alert("".concat(n," is already in contacts with phone ").concat(t.number)):a?alert("".concat(m," is already in contacts as ").concat(a.name)):n&&m?h(_.m.addContact(s)):alert("\u0421omplete all fields"),v()},children:[(0,f.jsxs)("label",{className:l,children:["Name",(0,f.jsx)("input",{className:i,value:n,onChange:j,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"})]}),(0,f.jsxs)("label",{className:l,children:["phone",(0,f.jsx)("input",{className:i,value:m,onChange:j,type:"tel",name:"phone",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"})]}),(0,f.jsx)("button",{className:i+" "+u,type:"submit",children:"Add contact"})]})},v=n(6052),N=function(e){var t=e.contactToEdit,n=e.closeModal,a=(0,o.useState)(t),d=(0,r.Z)(a,2),m=d[0],p=d[1],h=m.name,x=m.number,_=(0,b.I0)(),j=(0,o.useState)(""),N=(0,r.Z)(j,2),g=N[0],C=N[1],y=function(e){var t=e.currentTarget,n=t.name,a=t.value;switch(n){case"name":p((function(e){return(0,s.Z)((0,s.Z)({},e),{},{name:a})}));break;case"number":p((function(e){return(0,s.Z)((0,s.Z)({},e),{},{number:a})}));break;default:return}};return(0,f.jsxs)("form",{className:c,onSubmit:function(e){e.preventDefault(),h&&x?(C(""),_((0,v.editContact)(m)),n()):C("\u0421omplete all fields")},children:[(0,f.jsxs)("label",{className:l,children:["Name",(0,f.jsx)("input",{className:i,value:h,onChange:y,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"})]}),(0,f.jsxs)("label",{className:l,children:["phone",(0,f.jsx)("input",{className:i,value:x,onChange:y,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"})]}),g&&(0,f.jsx)("p",{style:{color:"red"},children:g}),(0,f.jsx)("button",{className:i+" "+u,type:"submit",children:"Confirm changes"})]})}},5492:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var a=n(8152),s=n(2791),r=n(8400),o=n(9434),c=n(3924),l={list:"ContactList_list__csErn",name:"ContactList_name__UCkFW",item:"ContactList_item__EZYHO",btn:"ContactList_btn__6Piat",edit:"ContactList_edit__jpzPE",del:"ContactList_del__WHOxA"},i=n(24),u=n(6052),d=n(6355),m=n(184),p=function(e){var t=e.item,n=e.openModal,a=(0,o.I0)();return(0,m.jsxs)("li",{className:l.item,children:[(0,m.jsx)("b",{className:l.name,children:t.name}),(0,m.jsx)("span",{children:t.number}),(0,m.jsxs)("div",{className:l.btns,children:[(0,m.jsx)("button",{className:l.btn,onClick:function(){return n(t)},title:"Edit contact",children:(0,m.jsx)(d.fmQ,{fill:"#757474",className:l.edit})}),(0,m.jsx)("button",{className:l.btn,onClick:function(){return a((0,u.deleteContact)(t.id))},title:"Delete contact",children:(0,m.jsx)(d.Xm5,{fill:"#757474",className:l.del})})]})]})},h=function(e){var t=e.openModal,n=(0,o.I0)(),a=(0,o.v9)((function(e){return e.contacts.contacts})),r=(0,o.v9)((function(e){return e.contacts.filter})),u=(0,o.v9)((function(e){return e.contacts.loading})),d=(0,o.v9)((function(e){return e.contacts.error}));(0,s.useEffect)((function(){n(i.m.getContact())}),[n]);var h=function(){if(r){var e=r.toLowerCase();return a.filter((function(t){return t.name.toLowerCase().includes(e)}))}return a}();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("ul",{className:l.list,children:null===h||void 0===h?void 0:h.map((function(e){return(0,m.jsx)(p,{item:e,openModal:t},e.id)}))}),u&&(0,m.jsx)(c.g4,{color:"#00BFFF",height:80,width:80}),d&&(0,m.jsx)("p",{style:{color:"red"},children:"Oops, something went wrong, try again"})]})},f="Filter_filter__vxThR",x=n(1538),b=function(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.contacts.filter}));return(0,m.jsxs)("label",{children:["Search contact by name",(0,m.jsx)("input",{type:"text",className:f,placeholder:"Search contact...",value:t,onChange:function(t){var n=t.currentTarget.value;e((0,x.W)(n))}})]})},_=n(4164),j="Modal_Overlay__yoxbg",v="Modal_Modal__I1UYJ",N="Modal_btn__ghtlt",g="Modal_icon__2UpwH",C=n(6053),y=function(e){var t=e.children,n=e.closeModal,a=document.getElementById("modal-root");return(0,_.createPortal)((0,m.jsx)("div",{className:j,children:(0,m.jsxs)("div",{className:v,children:[(0,m.jsx)("button",{className:N,onClick:n,children:(0,m.jsx)(C.nfZ,{className:g})}),t]})}),a)},Z=function(){var e=(0,s.useState)(!1),t=(0,a.Z)(e,2),n=t[0],o=t[1],c=(0,s.useState)({}),l=(0,a.Z)(c,2),i=l[0],u=l[1],d=function(){o(!1),u({})};return(0,m.jsxs)("div",{children:[(0,m.jsx)(r.t,{}),(0,m.jsx)(b,{}),(0,m.jsx)(h,{openModal:function(e){o(!0),u(e)}}),n&&(0,m.jsx)(y,{closeModal:d,children:(0,m.jsx)(r.Py,{contactToEdit:i,closeModal:d})})]})}},24:function(e,t,n){n.d(t,{m:function(){return a}});var a=n(6052)}}]);
//# sourceMappingURL=492.46f0a57f.chunk.js.map